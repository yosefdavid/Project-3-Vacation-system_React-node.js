(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{51:function(e,a,t){e.exports=t(95)},56:function(e,a,t){},89:function(e,a){},95:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),c=t(46),i=t.n(c),o=(t(56),t(6)),l=t(7),r=t(9),m=t(8),d=t(10),u=t(3),p=t(98),h=t(96),v=t(97),g=t(13),E=t(2),f=t.n(E),b=t(11),N=function(e,a){return function(){var t=Object(b.a)(f.a.mark(function t(n){var s,c;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:3000/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});case 2:return s=t.sent,t.next=5,s.json();case 5:(c=t.sent).status&&a.setState({username:"",password:""}),n({type:"LOGIN",data:c});case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},w=function(){return function(){var e=Object(b.a)(f.a.mark(function e(a){var t,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/logout");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,a({type:"LOGOUT",data:n});case 7:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}()},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(){var a=Object(b.a)(f.a.mark(function a(t){var n,s;return f.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("http://localhost:3000/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"}});case 2:return n=a.sent,a.next=5,n.json();case 5:s=a.sent,t({type:"FOLLOWERS_CHANGE",data:s}),null!=e&&e();case 8:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}()},O=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(t=Object(r.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(s)))).state={first_name:"",last_name:"",username:"",password:"",role:"user"},t}return Object(d.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"signup-comp"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("h1",null,"Registration"))),s.a.createElement("div",null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},"First name:"),s.a.createElement("div",{className:"col"},s.a.createElement("input",{name:"first_name",onChange:this.handleText.bind(this),value:this.state.first_name}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},"Last name:"),s.a.createElement("div",{className:"col"},s.a.createElement("input",{name:"last_name",onChange:this.handleText.bind(this),value:this.state.last_name}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},"User name:"),s.a.createElement("div",{className:"col"},s.a.createElement("input",{name:"username",onChange:this.handleText.bind(this),value:this.state.username}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},"Password:"),s.a.createElement("div",{className:"col"},s.a.createElement("input",{name:"password",onChange:this.handleText.bind(this),value:this.state.password}))),s.a.createElement("div",{className:"row row-signup"},s.a.createElement("div",{className:"col"},s.a.createElement("button",{className:"btn btn-success",onClick:this.signup.bind(this)},"Signup"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col msg"},this.props.msg))))}},{key:"handleText",value:function(e){this.setState(Object(g.a)({},e.target.name,e.target.value))}},{key:"signup",value:function(){var e,a;this.state.first_name&&this.state.last_name&&this.state.username&&this.state.password?isNaN(this.state.password)||this.state.password.length<4||this.state.password.length>8?this.props.dispatchChange({type:"SIGNUP",data:{msg:"Password must be numbers between 4 and 8 digits!"}}):this.props.dispatchChange((e=this.state,a=this,function(){var t=Object(b.a)(f.a.mark(function t(n){var s,c;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:3000/signup",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});case 2:return s=t.sent,t.next=5,s.json();case 5:(c=t.sent).status&&a.setState({first_name:"",last_name:"",username:"",password:""}),n({type:"SIGNUP",data:c});case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}())):this.props.dispatchChange({type:"SIGNUP",data:{msg:"Please fill all input fields!"}})}}]),a}(n.Component),j=Object(u.b)(function(e){return{msg:e.msg}},function(e){return{dispatchChange:function(a){e(a)}}})(O),C=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(t=Object(r.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(s)))).state={username:"",password:""},t}return Object(d.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"login-comp"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("h1",null,"Hello guest!"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("h3",null,"Please login your account!"))),s.a.createElement("div",{className:"login"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},"Username:"),s.a.createElement("div",{className:"col"},s.a.createElement("input",{name:"username",onChange:this.handleText.bind(this),value:this.state.username}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},"Password:"),s.a.createElement("div",{className:"col"},s.a.createElement("input",{name:"password",onChange:this.handleText.bind(this),value:this.state.password}))),s.a.createElement("div",{className:"row row-login"},s.a.createElement("div",{className:"col"},s.a.createElement("button",{className:"btn btn-success",onClick:this.login.bind(this)},"Login"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col msg"},this.props.msg))))}},{key:"handleText",value:function(e){this.setState(Object(g.a)({},e.target.name,e.target.value))}},{key:"login",value:function(){this.state.username?this.state.password?this.props.dispatchChange(N(this.state,this)):this.props.dispatchChange({type:"LOGIN",data:{msg:"Please enter a password!"}}):this.props.dispatchChange({type:"LOGIN",data:{msg:"Please enter a username!"}})}}]),a}(n.Component),D=Object(u.b)(function(e){return{msg:e.msg}},function(e){return{dispatchChange:function(a){e(a)}}})(C),F=function(e){function a(){return Object(o.a)(this,a),Object(r.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement(p.a,null,s.a.createElement("div",{className:"login-signup-comps"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("button",{className:"btn-links"},s.a.createElement(h.a,{className:"btn btn-primary",onClick:this.refreshMsg.bind(this),to:"/login"},"Login"))),s.a.createElement("div",{className:"col"},s.a.createElement("button",{className:"btn-links"},s.a.createElement(h.a,{className:"btn btn-primary",onClick:this.refreshMsg.bind(this),to:"/singup"},"Signup")))),s.a.createElement(v.a,{exact:!0,path:"/",component:D}),s.a.createElement(v.a,{path:"/login",component:D}),s.a.createElement(v.a,{path:"/singup",component:j}),s.a.createElement(v.a,{path:"/allvacations",component:D}),s.a.createElement(v.a,{path:"/reports",component:D})))}},{key:"refreshMsg",value:function(){this.props.dispatchChange({type:"DELETE_MSG",data:""})}}]),a}(n.Component),k=Object(u.b)(null,function(e){return{dispatchChange:function(a){e(a)}}})(F),x=t(16),I=t.n(x),S=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(t=Object(r.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(s)))).state={checkedOn:!0,checkedOff:!1},t}return Object(d.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;I()("http://localhost:8888").on("vacationsChange",function(a){e.props.dispatchChange(function(){var e=Object(b.a)(f.a.mark(function e(a){var t,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,a({type:"VACATIONS_CHANGE",data:n});case 7:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}())})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"user-comp"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-4 col-header"},s.a.createElement("h3",null,"Hello ",this.props.username)),s.a.createElement("div",{className:"col-6 col-header"},s.a.createElement("button",{className:"btn btn-info",onClick:this.logout.bind(this)},"Logout"))),s.a.createElement("div",{className:"row row-main"},s.a.createElement("div",{className:"col"},this.props.vacationsOnFoolow.map(function(a){return s.a.createElement("div",{key:a.id,className:"card",style:{width:"18rem"}},s.a.createElement("img",{src:a.image,className:"card-img-top",alt:"..."}),s.a.createElement("div",{className:"card-body"},s.a.createElement("h5",{className:"card-title"},a.destination),s.a.createElement("p",{className:"card-text"},a.description),s.a.createElement("ul",{className:"list-group list-group-flush"},s.a.createElement("li",{className:"list-group-item"},s.a.createElement("p",null,s.a.createElement("label",{className:"fas fa-plane-departure plane-icon"}),a.from_date),s.a.createElement("p",null,s.a.createElement("label",{className:"fas fa-plane-arrival plane-icon"}),a.end_date)),s.a.createElement("li",{className:"list-group-item"},a.price,s.a.createElement("label",{className:"fas fa-dollar-sign dollar-icon"})),s.a.createElement("li",{className:"list-group-item"},s.a.createElement("input",{checked:e.state.checkedOn,onChange:e.changeFollow.bind(e,a.id),type:"checkbox"}),s.a.createElement("label",{className:"fas fa-eye eye-icon"},a.followers)))))}),this.props.vacationsOffFoolow.map(function(a){return s.a.createElement("div",{key:a.id,className:"card",style:{width:"18rem"}},s.a.createElement("img",{src:a.image,className:"card-img-top",alt:"..."}),s.a.createElement("div",{className:"card-body"},s.a.createElement("h5",{className:"card-title"},a.destination),s.a.createElement("p",{className:"card-text"},a.description),s.a.createElement("ul",{className:"list-group list-group-flush"},s.a.createElement("li",{className:"list-group-item"},s.a.createElement("p",null,s.a.createElement("label",{className:"fas fa-plane-departure plane-icon"}),a.from_date),s.a.createElement("p",null,s.a.createElement("label",{className:"fas fa-plane-arrival plane-icon"}),a.end_date)),s.a.createElement("li",{className:"list-group-item"},a.price,s.a.createElement("label",{className:"fas fa-dollar-sign dollar-icon"})),s.a.createElement("li",{className:"list-group-item"},s.a.createElement("input",{checked:e.state.checkedOff,onChange:e.changeFollow.bind(e,a.id),type:"checkbox"}),s.a.createElement("label",{className:"fas fa-eye eye-icon"},a.followers)))))}))))}},{key:"logout",value:function(){this.props.dispatchChange(w())}},{key:"changeFollow",value:function(e,a){a.target.checked?this.props.dispatchChange(function(e){return function(){var a=Object(b.a)(f.a.mark(function a(t){var n,s;return f.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("http://localhost:3000/addfollow/".concat(e));case 2:return n=a.sent,a.next=5,n.json();case 5:s=a.sent,t({type:"ADD_FOLLOW",data:s});case 7:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}()}(e)):this.props.dispatchChange(function(e){return function(){var a=Object(b.a)(f.a.mark(function a(t){var n,s;return f.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("http://localhost:3000/removefollow/".concat(e));case 2:return n=a.sent,a.next=5,n.json();case 5:s=a.sent,t({type:"REMOVE_FOLLOW",data:s});case 7:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}()}(e))}}]),a}(n.Component),T=Object(u.b)(function(e){return{username:e.username,vacationsOnFoolow:e.vacationsOnFoolow,vacationsOffFoolow:e.vacationsOffFoolow}},function(e){return{dispatchChange:function(a){e(a)}}})(S),A=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(t=Object(r.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(s)))).state={vacationId:"",vacationDestination:"",vacationDescription:"",vacationFromDate:"",vacationEndDate:"",vacationFollowers:"",vacationImgs:"",vacationPrice:"",newVacationDestination:"",newVacationImgs:"",typeFile:"",msg:""},t}return Object(d.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;I()("http://localhost:8888").on("followersChange",function(a){e.props.dispatchChange(y())})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"admin-home-comp"},s.a.createElement("div",{id:"delete-modal",className:"modal fade",role:"dialog"},s.a.createElement("div",{className:"modal-dialog"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",null,s.a.createElement("img",{src:this.state.vacationImgs}),s.a.createElement("h4",{className:"modal-title"},this.state.vacationDestination)),s.a.createElement("div",null,"Vacation ID: ",this.state.vacationId)),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",null,"Are you sure you want to delete this vacation?"),s.a.createElement("div",{className:"row-warrnig"},s.a.createElement("label",{className:"fas fa-exclamation-triangle"}),"This vacation has ",this.state.vacationFollowers," followers!")),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",onClick:this.deleteVacation.bind(this,this.state.vacationId),className:"btn btn-success","data-dismiss":"modal"},"I'm sure"),s.a.createElement("button",{type:"button",onClick:this.restartState.bind(this),className:"btn btn-primary","data-dismiss":"modal"},"Cancel"))))),s.a.createElement("div",{id:"edit-modal",className:"modal fade",role:"dialog"},s.a.createElement("div",{className:"modal-dialog"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",null,s.a.createElement("img",{src:this.state.vacationImgs}),s.a.createElement("h4",{className:"modal-title"},this.state.vacationDestination," ")),s.a.createElement("div",null,"Vacation ID: ",this.state.vacationId)),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},"Destination:"),s.a.createElement("div",{className:"col"},s.a.createElement("input",{type:"text",name:"newVacationDestination",onChange:this.handleText.bind(this),value:this.state.newVacationDestination}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},"Description:"),s.a.createElement("div",{className:"col"},s.a.createElement("textarea",{name:"vacationDescription",onChange:this.handleText.bind(this),value:this.state.vacationDescription}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},"image:"),s.a.createElement("div",{className:"col"},s.a.createElement("input",{id:"img-upp-edit",className:"img-upp",type:"file",name:"newVacationImgs",onChange:this.handleText.bind(this)}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},"From date:"),s.a.createElement("div",{className:"col"},s.a.createElement("input",{type:"text",placeholder:"DD/MM/YYYY",name:"vacationFromDate",onChange:this.handleText.bind(this),value:this.state.vacationFromDate}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},"End date:"),s.a.createElement("div",{className:"col"},s.a.createElement("input",{type:"text",placeholder:"DD/MM/YYYY",name:"vacationEndDate",onChange:this.handleText.bind(this),value:this.state.vacationEndDate}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},"Price:"),s.a.createElement("div",{className:"col"},s.a.createElement("input",{type:"text",name:"vacationPrice",onChange:this.handleText.bind(this),value:this.state.vacationPrice})))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},this.state.msg)),s.a.createElement("button",{type:"button",onClick:this.sendVacation.bind(this),className:"btn btn-success"},"Edit"),s.a.createElement("button",{type:"button",onClick:this.restartState.bind(this),className:"btn btn-primary","data-dismiss":"modal"},"Cancel"))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},this.props.vacation.map(function(a){return s.a.createElement("div",{key:a.id,className:"card",style:{width:"18rem"}},s.a.createElement("div",null,s.a.createElement("button",{type:"button",onClick:e.startState.bind(e,a.id,a.destination,a.description,a.from_date,a.end_date,a.followers,a.image,a.price),className:"fas fa-edit edit-icon btn btn-light","data-toggle":"modal","data-target":"#edit-modal"}),s.a.createElement("button",{type:"button",onClick:e.startState.bind(e,a.id,a.destination,a.description,a.from_date,a.end_date,a.followers,a.image,a.price),className:"fas fa-trash-alt btn btn-light","data-toggle":"modal","data-target":"#delete-modal"})),s.a.createElement("img",{src:a.image,className:"card-img-top",alt:"..."}),s.a.createElement("div",{className:"card-body"},s.a.createElement("h5",{className:"card-title"},a.destination),s.a.createElement("p",{className:"card-text"},a.description),s.a.createElement("ul",{className:"list-group list-group-flush"},s.a.createElement("li",{className:"list-group-item"},s.a.createElement("p",null,s.a.createElement("label",{className:"fas fa-plane-departure plane-icon"}),a.from_date),s.a.createElement("p",null,s.a.createElement("label",{className:"fas fa-plane-arrival plane-icon"}),a.end_date)),s.a.createElement("li",{className:"list-group-item"},a.price,s.a.createElement("label",{className:"fas fa-dollar-sign dollar-icon"})),s.a.createElement("li",{className:"list-group-item"},s.a.createElement("label",{className:"fas fa-eye eye-icon"},a.followers)))))}))))}},{key:"restartState",value:function(){this.setState({vacationId:"",vacationDestination:"",vacationDescription:"",vacationFromDate:"",vacationEndDate:"",vacationFollowers:"",vacationImgs:"",vacationPrice:"",newVacationDestination:"",newVacationImgs:"",typeFile:"",msg:""}),document.getElementById("img-upp-edit").value=""}},{key:"handleText",value:function(e){var a=this;if("newVacationImgs"==e.target.name){var t=e.target.files[0];if(t)if("image/jpeg"==t.type){var n=new FileReader;n.readAsDataURL(t),n.onload=function(){a.setState({typeFile:t.type,newVacationImgs:n.result,msg:""})}}else this.setState({typeFile:"error",newVacationImgs:"error",msg:"Upload only a jpeg image file!"});else this.setState({typeFile:"",newVacationImgs:"",msg:""})}else this.setState(Object(g.a)({},e.target.name,e.target.value))}},{key:"startState",value:function(e,a,t,n,s,c,i,o){this.setState({vacationId:e,vacationDestination:a,vacationDescription:t,vacationFromDate:n,vacationEndDate:s,vacationFollowers:c,vacationImgs:i,vacationPrice:o,newVacationDestination:a,newVacationImgs:i,typeFile:"image/jpeg",msg:""})}},{key:"deleteVacation",value:function(e){var a;this.props.dispatchChange((a=e,function(){var e=Object(b.a)(f.a.mark(function e(t){var n,s;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/deletevacation/".concat(a),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:s=e.sent,t({type:"DELETE_VACATION",data:s});case 7:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}()))}},{key:"sendVacation",value:function(){if(""==this.state.newVacationDestination||""==this.state.vacationDescription||""==this.state.newVacationImgs||""==this.state.vacationFromDate||""==this.state.vacationEndDate||""==this.state.vacationPrice)this.setState({msg:"Please fill all input fields!"});else if(isNaN(this.state.vacationPrice))this.setState({msg:"Price should be only numbers!"});else if("image/jpeg"!=this.state.typeFile)this.setState({msg:"Upload only a jpeg image file"});else{var e={vacationId:this.state.vacationId,vacationBody:{destination:this.state.newVacationDestination,description:this.state.vacationDescription,image:this.state.newVacationImgs,from_date:this.state.vacationFromDate,end_date:this.state.vacationEndDate,price:this.state.vacationPrice}};this.props.dispatchChange((a=e,function(){var e=Object(b.a)(f.a.mark(function e(t){var n,s;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/editvacation",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 2:return n=e.sent,e.next=5,n.json();case 5:s=e.sent,t({type:"EDIT_VACATION",data:s});case 7:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}())),document.getElementById("img-upp-edit").value="",window.$("#edit-modal").modal("hide")}var a}}]),a}(n.Component),P=Object(u.b)(function(e){return{vacation:e.vacationsOnFoolow}},function(e){return{dispatchChange:function(a){e(a)}}})(A),_=t(92),V=function(e){function a(){return Object(o.a)(this,a),Object(r.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.createChart(),I()("http://localhost:8888").on("followersChange",function(a){e.props.dispatchChange(y(e.createChart.bind(e)))})}},{key:"createChart",value:function(){for(var e=this.props.vacation.filter(function(e){return 0!=e.followers}),a=[],t=[],n=0;n<e.length;n++)a.push("".concat(e[n].destination," ID:").concat(e[n].id)),t.push(e[n].followers);var s=document.getElementById("myChart").getContext("2d");new _(s,{type:"bar",data:{labels:a,datasets:[{label:"Followers",data:t,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},options:{scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0}]}}})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("canvas",{id:"myChart",className:"canvas"}))))}}]),a}(n.Component),L=Object(u.b)(function(e){return{username:e.username,vacation:e.vacationsOnFoolow}},function(e){return{dispatchChange:function(a){e(a)}}})(V),M=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(t=Object(r.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(s)))).state={vacationDestination:"",vacationDescription:"",vacationFromDate:"",vacationEndDate:"",vacationFollowers:0,vacationImgs:"",typeFile:"",vacationPrice:"",msg:""},t}return Object(d.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement(p.a,null,s.a.createElement("div",{className:"admin-comp"},s.a.createElement("div",{id:"add-vacation-modal",className:"modal fade",role:"dialog"},s.a.createElement("div",{className:"modal-dialog"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",null,s.a.createElement("img",{src:"https://www.hon.co.il/wp-content/uploads/2016/02/vacation-480x320.jpg"})),s.a.createElement("div",null,s.a.createElement("h4",{className:"modal-title"},"Add vacation"))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},"Destination:"),s.a.createElement("div",{className:"col"},s.a.createElement("input",{type:"text",name:"vacationDestination",onChange:this.handleText.bind(this),value:this.state.vacationDestination}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},"Description:"),s.a.createElement("div",{className:"col"},s.a.createElement("textarea",{name:"vacationDescription",onChange:this.handleText.bind(this),value:this.state.vacationDescription}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},"image:"),s.a.createElement("div",{className:"col"},s.a.createElement("input",{id:"img-upp-add",className:"img-upp",type:"file",name:"vacationImgs",onChange:this.handleText.bind(this)}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},"From date:"),s.a.createElement("div",{className:"col"},s.a.createElement("input",{type:"text",placeholder:"DD/MM/YYYY",name:"vacationFromDate",onChange:this.handleText.bind(this),value:this.state.vacationFromDate}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},"End date:"),s.a.createElement("div",{className:"col"},s.a.createElement("input",{type:"text",placeholder:"DD/MM/YYYY",name:"vacationEndDate",onChange:this.handleText.bind(this),value:this.state.vacationEndDate}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},"Price:"),s.a.createElement("div",{className:"col"},s.a.createElement("input",{type:"text",name:"vacationPrice",onChange:this.handleText.bind(this),value:this.state.vacationPrice})))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},this.state.msg)),s.a.createElement("button",{type:"button",onClick:this.sendVacation.bind(this),className:"btn btn-success"},"Add"),s.a.createElement("button",{type:"button",onClick:this.restartState.bind(this),className:"btn btn-primary","data-dismiss":"modal"},"Cancel"))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-4 col-header"},s.a.createElement("h3",null,"Hello ",this.props.username),s.a.createElement("label",null,"Administrator")),s.a.createElement("div",{className:"col-6 col-header"},s.a.createElement("button",{className:"btn-nav btn-links"},s.a.createElement(h.a,{className:"btn btn-primary",to:"/allvacations"},"Vacations")),s.a.createElement("button",{type:"button",className:"btn-nav btn btn-primary","data-toggle":"modal","data-target":"#add-vacation-modal"},"Add vacation"),s.a.createElement("button",{className:"btn-nav btn-links"},s.a.createElement(h.a,{className:"btn btn-primary",to:"/reports"},"Reports")),s.a.createElement("button",{className:"btn-nav btn btn-info",onClick:this.logout.bind(this)},"Logout"))),s.a.createElement(v.a,{exact:!0,path:"/",component:P}),s.a.createElement(v.a,{path:"/login",component:P}),s.a.createElement(v.a,{path:"/allvacations",component:P}),s.a.createElement(v.a,{path:"/reports",component:L})))}},{key:"logout",value:function(){this.props.dispatchChange(w())}},{key:"restartState",value:function(){this.setState({vacationDestination:"",vacationDescription:"",vacationFromDate:"",vacationEndDate:"",vacationFollowers:0,vacationImgs:"",typeFile:"",vacationPrice:"",msg:""}),document.getElementById("img-upp-add").value=""}},{key:"handleText",value:function(e){var a=this;if("vacationImgs"==e.target.name){var t=e.target.files[0];if(t)if("image/jpeg"==t.type){var n=new FileReader;n.readAsDataURL(t),n.onload=function(){a.setState({typeFile:t.type,vacationImgs:n.result,msg:""})}}else this.setState({typeFile:"error",vacationImgs:"error",msg:"Upload only a jpeg image file!"});else this.setState({typeFile:"",vacationImgs:"",msg:""})}else this.setState(Object(g.a)({},e.target.name,e.target.value))}},{key:"sendVacation",value:function(){if(""==this.state.vacationDestination||""==this.state.vacationDescription||""==this.state.vacationImgs||""==this.state.vacationFromDate||""==this.state.vacationEndDate||""==this.state.vacationPrice)this.setState({msg:"Please fill all input fields!"});else if(isNaN(this.state.vacationPrice))this.setState({msg:"Price should be only numbers!"});else if("image/jpeg"!=this.state.typeFile)this.setState({msg:"Upload only a jpeg image file"});else{var e={destination:this.state.vacationDestination,description:this.state.vacationDescription,image:this.state.vacationImgs,from_date:this.state.vacationFromDate,end_date:this.state.vacationEndDate,followers:this.state.vacationFollowers,price:this.state.vacationPrice};this.props.dispatchChange((a=e,t=this,function(){var e=Object(b.a)(f.a.mark(function e(n){var s,c;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/addvacation",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 2:return s=e.sent,e.next=5,s.json();case 5:c=e.sent,t.setState({vacationDestination:"",vacationDescription:"",vacationFromDate:"",vacationEndDate:"",vacationFollowers:0,vacationImgs:"",typeFile:"",vacationPrice:"",msg:""}),n({type:"ADD_VACATION",data:c});case 8:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}())),document.getElementById("img-upp-add").value="",window.$("#add-vacation-modal").modal("hide")}var a,t}}]),a}(n.Component),G=Object(u.b)(function(e){return{username:e.username,vacation:e.vacationsOnFoolow}},function(e){return{dispatchChange:function(a){e(a)}}})(M),Y=function(e){function a(){return Object(o.a)(this,a),Object(r.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatchChange(N())}},{key:"render",value:function(){return this.props.role?"user"==this.props.role?s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"user-bg"},s.a.createElement(T,null))):"admin"==this.props.role?s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"admin-bg"},s.a.createElement(G,null))):void 0:s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"LoginEndSingup-bg"},s.a.createElement(k,null)))}}]),a}(n.Component),U=Object(u.b)(function(e){return{role:e.role}},function(e){return{dispatchChange:function(a){e(a)}}})(Y);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R=t(17),W={role:"",username:"",vacationsOnFoolow:[],vacationsOffFoolow:[],msg:""};var B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,a=arguments.length>1?arguments[1]:void 0,t={};switch(a.type){case"SIGNUP":return(t=Object.assign({},e)).msg=a.data.msg,t;case"LOGIN":return(t=Object.assign({},e)).role=a.data.role,t.msg=a.data.msg,t.vacationsOnFoolow=a.data.vacationsOnFoolow,t.vacationsOffFoolow=a.data.vacationsOffFoolow,t.username=a.data.username,t;case"LOGOUT":return(t=Object.assign({},e)).role=a.data.role,t.msg=a.data.msg,t.vacationsOnFoolow=a.data.vacations,t.vacationsOffFoolow=a.data.vacations,t.username=a.data.username,t;case"DELETE_MSG":return(t=Object.assign({},e)).msg=a.data,t;case"ADD_FOLLOW":case"REMOVE_FOLLOW":return(t=Object.assign({},e)).vacationsOnFoolow=a.data.vacationsOnFoolow,t.vacationsOffFoolow=a.data.vacationsOffFoolow,t;case"DELETE_VACATION":case"EDIT_VACATION":case"ADD_VACATION":return(t=Object.assign({},e)).vacationsOnFoolow=a.data,t;case"VACATIONS_CHANGE":return(t=Object.assign({},e)).vacationsOnFoolow=a.data.vacationsOnFoolow,t.vacationsOffFoolow=a.data.vacationsOffFoolow,t;case"FOLLOWERS_CHANGE":return(t=Object.assign({},e)).vacationsOnFoolow=a.data.vacationsOnFoolow,t;default:return e}},H=t(49),J=Object(R.c)(B,Object(R.a)(H.a));i.a.render(s.a.createElement(u.a,{store:J},s.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[51,1,2]]]);
//# sourceMappingURL=main.b4d34091.chunk.js.map